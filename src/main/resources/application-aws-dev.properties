# AWS Development Profile
# This profile is configured for AWS development environment

# AWS-specific database configuration
# Using AWS RDS PostgreSQL
spring.datasource.write.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:assetneuron}
spring.datasource.write.driverClassName=org.postgresql.Driver
spring.datasource.write.username=${DB_USERNAME:postgres}
spring.datasource.write.password=${DB_PASSWORD:postgres}

# Read Database (Replica) - Can be same as write for single instance setup
spring.datasource.read.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:assetneuron}
spring.datasource.read.driverClassName=org.postgresql.Driver
spring.datasource.read.username=${DB_USERNAME:postgres}
spring.datasource.read.password=${DB_PASSWORD:postgres}

# AWS-specific logging configuration
# Console logging for ECS visibility
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n

# Log levels
logging.level.root=INFO
logging.level.com.assetneuron=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO

# Correlation ID logging
logging.level.com.assetneuron.whatsapp.filter=INFO
logging.level.com.assetneuron.whatsapp.util=INFO

# Application startup logging
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.context=INFO

# AWS-specific server configuration
server.port=${SERVER_PORT:9001}

# AWS-specific actuator configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# AWS-specific JPA configuration
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# AWS-specific connection pool configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# AWS-specific Liquibase configuration
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.enabled=true

# AWS-specific API configuration
api.base-path=/api
api.version=v1
api.version-in-header=false
api.header-name=API-Version
api.enable-version-header=true

# AWS-specific OpenAPI configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.packages-to-scan=com.assetneuron.whatsapp.controller
springdoc.show-actuator=false
springdoc.api-docs.enabled=true

workorder.service.url=http://43.204.229.164:9001
document.service.url=http://13.203.71.75:9001
comment.service.url=http://13.202.43.3:9001
